@page
@using Endatix.Core.Entities
@using Endatix.Samples.WebApp.ApiClient.Common
@model Endatix.Samples.WebApp.Pages.IndexModel;
@{
    ViewData["Title"] = "Forms";
}

@if (Model.ErrorState != null)
{
    @await Html.PartialAsync("_ErrorDetails", Model.ErrorState);
}
else
{
    <div>
    <h2>All Forms</h2>
    <br />
    <table>
        <tr>
            <th>
                Name
            </th>
            <th>
                Id
            </th>
            <th>
                Is Enabled
            </th>
            <th>
            </th>
        </tr>
        @foreach (var form in Model.Forms)
            {
                <tr>
                    <td>@form.Name</td>
                    <td>@form.Id</td>
                    <td><input type="checkbox" disabled @(form.IsEnabled ? "checked" : "")></td>
                    <td><a asp-page="./Form" asp-route-id="@form.Id">Render</a></td>
                </tr>
            }
        </table>
    </div>
}
